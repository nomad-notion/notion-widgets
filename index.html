<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Calendar</title>
  <style>
    /* CSS: 디자인 영역 (원본 디자인 유지) */
    html, body {
      background-color: #ffffff; /* 기본 배경 */
      font-family: 'Times New Roman', serif; /* 세리프 폰트 */
      margin: 0;
      padding: 0;
      /* 화면 크기에 맞춰 비율 자동 조절 */
      font-size: calc(100vw / 10); 
    }
    
    /* 다크모드 대응 */
    @media (prefers-color-scheme: dark) {
      html, body { background-color: #191919; }
    }

    .container {
      width: 9.2rem; /* 화면 꽉 차게 */
      margin: 0 auto;
      text-align: center;
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: #000000; /* 위젯 배경: 블랙 */
      color: rgb(255, 255, 255); /* 글씨: 화이트 */
      border-radius: .4rem;
      box-sizing: border-box;
      padding: .4rem;
      overflow: hidden;
    }

    #month {
      font-weight: bold;
      font-size: .6rem;
      text-align: right;
      margin: 0;
      margin-bottom: 0.2rem;
    }

    .week-days {
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .week-days.head {
      font-weight: bold;
      font-size: .4rem;
      margin-bottom: .2rem;
      opacity: 0.8;
    }

    .week-days.week {
      margin-bottom: .066667rem;
    }

    .week-days span {
      line-height: .6rem;
      font-size: .35rem;
      width: .6rem;
      height: .6rem;
      display: inline-block;
      text-align: center;
    }

    /* 오늘 날짜 표시 */
    .active {
      background-color: rgba(255, 255, 255, 1);
      border-radius: 50%;
      color: #000000;
      font-weight: bold;
    }

    /* 왼쪽 큰 날짜 영역 */
    #d-day {
      width: 3rem;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      border-right: 1px solid #333;
      margin-right: 0.2rem;
      padding-right: 0.2rem;
    }
    #d-day h3 {
      font-size: .64rem;
      margin: 0;
      font-weight: normal;
    }
    #d-day h1 {
      font-size: 2.2rem;
      margin: 0;
      line-height: 1;
    }
    
    .inner {
        flex-grow: 1;
    }

  </style>
</head>
<body>
  
  <div class="container" id="box">
    <div id="d-day"></div>
    
    <div class="inner">
      <h2 id="month"></h2>
      <div class="week-days head">
        <span>S</span><span>M</span><span>T</span><span>W</span><span>T</span><span>F</span><span>S</span>
      </div>
      <div id="calendar-body">
        </div>
    </div>
  </div>

<script type="text/javascript">
  // JS: 기능 구현 (외부 의존성 제거됨)
  
  const months = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
  const week_days_full = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];

  function renderCalendar() {
    const today = new Date();
    const currentYear = today.getFullYear();
    const currentMonth = today.getMonth(); // 0~11
    const currentDate = today.getDate();
    const currentDay = today.getDay(); // 0(일)~6(토)

    // 1. 왼쪽 패널 채우기
    const dDayContainer = document.getElementById("d-day");
    dDayContainer.innerHTML = `<h3>${week_days_full[currentDay]}</h3><h1>${currentDate}</h1>`;

    // 2. 오른쪽 상단 월 표시
    document.getElementById("month").innerText = months[currentMonth];

    // 3. 달력 날짜 계산
    // 이번 달의 첫째 날이 무슨 요일인지?
    const firstDayOfMonth = new Date(currentYear, currentMonth, 1).getDay();
    // 이번 달의 마지막 날짜가 며칠인지? (예: 28, 30, 31)
    const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();

    const calendarBody = document.getElementById("calendar-body");
    let htmlContent = "";
    
    // 주 단위로 행(row)을 만듭니다
    let dayCount = 1;
    // 최대 6주까지 나올 수 있음
    for (let i = 0; i < 6; i++) {
        let rowHtml = '<div class="week-days week">';
        
        for (let j = 0; j < 7; j++) {
            // 첫 주이면서 시작 요일 전이거나, 날짜가 끝났으면 빈칸
            if ((i === 0 && j < firstDayOfMonth) || dayCount > daysInMonth) {
                rowHtml += `<span></span>`;
            } else {
                // 오늘 날짜인지 확인
                let className = (dayCount === currentDate) ? "active" : "";
                rowHtml += `<span class="${className}">${dayCount}</span>`;
                dayCount++;
            }
        }
        rowHtml += '</div>';
        htmlContent += rowHtml;

        if (dayCount > daysInMonth) break;
    }
    
    calendarBody.innerHTML = htmlContent;
  }

  // 실행
  renderCalendar();
  
  // 화면 크기 조절을 위한 스크립트 (rem 단위 보정)
  function resize() {
      // 윈도우 너비가 너무 크면 적당히 제한
      let width = window.innerWidth;
      if (width > 600) width = 600; 
      document.documentElement.style.fontSize = (width / 10) + 'px';
  }
  window.addEventListener('resize', resize);
  resize();

</script>
</body>
</html>
